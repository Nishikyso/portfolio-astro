---
// src/components/Header.astro
import HeaderControls from './HeaderControls.astro';
import HeaderTitle from './HeaderTitle';
---
<!-- HeaderMobile.astro -->
<header id="header-mobile" class="fixed top-4 left-1/2 -translate-x-1/2 z-50 w-[95%] max-w-4xl rounded-main shadow-lg bg-background border border-white/10 px-4 py-2 flex md:hidden flex-col">
  <div class="flex justify-between items-center">
    <a href="#" class="font-bold text-xl text-text">
      <HeaderTitle />
    </a>
    <button id="hamburger" class="text-text focus:outline-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>
  <div id="mobile-menu" class="max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
    <nav class="mt-2 flex flex-col gap-2">
      <a href="#projects" class="text-text/80 hover:text-primary transition-colors">Proyectos</a>
      <a href="#contact" class="text-text/80 hover:text-primary transition-colors">Contacto</a>
      <HeaderControls mobile={true} />
    </nav>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const hamburger = document.getElementById('hamburger');
      const mobileMenu = document.getElementById('mobile-menu');
      let open = false;

      hamburger.addEventListener('click', () => {
        open = !open;
        mobileMenu.style.maxHeight = open ? mobileMenu.scrollHeight + 'px' : '0px';
      });
    });
  </script>
</header>
