---
// src/components/Header.astro
import HeaderControls from './HeaderControls.astro';
---
<header id="header-island" class="fixed top-4 left-1/2 -translate-x-1/2 z-50 w-[95%] max-w-4xl">
  <div class="container mx-auto px-4 py-2 flex justify-between items-center rounded-main shadow-lg border border-white/10">
    <a href="#" class="font-bold text-xl text-text">
      <span id="header-title-animation"></span>
    </a>

    <!-- Desktop nav -->
    <nav class="hidden md:flex md:items-center gap-4">
      <a href="#projects" class="text-text/80 hover:text-primary transition-colors">Proyectos</a>
      <a href="#contact" class="text-text/80 hover:text-primary transition-colors">Contacto</a>
      <HeaderControls />
    </nav>

    <!-- Mobile hamburger -->
    <button id="hamburger" class="md:hidden text-text focus:outline-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- Mobile nav menu -->
  <nav id="mobile-menu" class="md:hidden hidden border-t border-white/10 rounded-b-main px-4 py-4 space-y-2 text-text">
    <a href="#projects" class="block text-text/80 hover:text-primary transition-colors">Proyectos</a>
    <a href="#contact" class="block text-text/80 hover:text-primary transition-colors">Contacto</a>
    <div>
      <HeaderControls />
    </div>
  </nav>
</header>

<script>
  import Typed from 'typed.js';

  document.addEventListener('DOMContentLoaded', () => {
    const options = {
      strings: ['&lt;RamiroGarcia/&gt;', './Ramiro-portfolio', 'RG.', 'Ramiro Garcia'],
      typeSpeed: 120,
      backSpeed: 70,
      loop: true,
      smartBackspace: true,
      backDelay: 20000,
    };
    const typed = new Typed('#header-title-animation', options);

    const hamburger = document.getElementById('hamburger');
    const mobileMenu = document.getElementById('mobile-menu');
    hamburger.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  });
</script>